# 垃圾收集算法

## 标记-清除算法

最基础的的收集算法

- 主要分为两个阶段
  1. 标记
      - 标记处所有需要回收的对象
  2. 清除
      - 回收所有被标记的对象

- 不足
  - 效率低下
  - 内存碎片化
    - 分配大对象时无法找到连续的内存,触发额外的垃圾收集动作

## 复制算法

解决-标记清除算法的效率问题

1. 将内存按容量大小划分为大小相等的两块
2. 每次只使用其中的一块
3. 当内存用完后,将存活的对象复制到另外一块上
4. 清理已经使用过的内存空间

实现简单,效率快,牺牲一半内存(后发展为`Eden`和两个`Survicor`(存活超过一个`survicor`时将进入老年代),默认比例8:1,只会损失10%的内存)

> 新生代应用的收集算法

## 标记-整理算法

1. 标记过程和标记-清除算法相同  
2. 处理阶段将所有的对象都向一段移动
3. 清除端边界外的内存

> 老年代应用的收集算法

## 分代收集算法

应对不同的年代采用最适合的收集算法

> 当前虚拟机所采用的收集算法